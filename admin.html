<h2>PeopleGrid Admin</h2>
<input id="u" placeholder="Username">
<input id="p" placeholder="Password" type="password">
<button onclick="load()">Login</button>
<div id="out"></div>

<script>
let auth = "";

async function load(){
  auth = "Basic " + btoa(u.value + ":" + p.value);

  const r = await fetch("https://peoplegrid.onrender.com/admin/workers", {
    headers: { Authorization: auth }
  });

  if (!r.ok) {
    alert("Login failed");
    return;
  }

  const data = await r.json();

  let html = "<h3>Workers</h3>";

  data.forEach(x => {
    html += `
      <div style="border:1px solid black;padding:10px;margin:10px">
        <b>${x.name}</b><br>
        Skill: ${x.skill}<br>
        City: ${x.city}<br>
        Phone: ${x.phone}<br>
        Email: ${x.email}<br>
        <a href="${x.resume}" target="_blank">ðŸ“„ Download Resume</a>
      </div>
    `;
  });

  out.innerHTML = html;
}
</script>
